# ScrollUniversity Backend Environment Configuration

# Database
DATABASE_URL="postgresql://username:password@localhost:5432/scrolluniversity"
REDIS_URL="redis://localhost:6379"

# Server Configuration
PORT="3000"
HOST="localhost"
NODE_ENV="development"

# Authentication
JWT_SECRET="your-jwt-secret-key-here"
JWT_REFRESH_SECRET="your-jwt-refresh-secret-key-here"
JWT_EXPIRES_IN="7d"
BCRYPT_ROUNDS="12"

# Supabase Configuration
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_ANON_KEY="your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"

# OAuth Configuration
OAUTH_REDIRECT_URL="http://localhost:3000/auth/callback"
EMAIL_REDIRECT_URL="http://localhost:3001/verify-email"
PASSWORD_RESET_REDIRECT_URL="http://localhost:3001/reset-password"
FRONTEND_URL="http://localhost:3001"

# API Configuration
API_VERSION="v1"
CORS_ORIGIN="http://localhost:3001"

# AI Services - OpenAI
OPENAI_API_KEY="your-openai-api-key"
OPENAI_ORGANIZATION=""
OPENAI_BASE_URL=""
OPENAI_TIMEOUT="60000"
OPENAI_MAX_RETRIES="3"

# AI Services - Anthropic
ANTHROPIC_API_KEY="your-anthropic-api-key"
ANTHROPIC_BASE_URL=""
ANTHROPIC_TIMEOUT="60000"
ANTHROPIC_MAX_RETRIES="3"

# AI Rate Limiting
AI_RATE_LIMIT_RPM="60"
AI_RATE_LIMIT_TPM="90000"
AI_RATE_LIMIT_RPD="10000"

# AI Budget Management
AI_DAILY_BUDGET="300"
AI_MONTHLY_BUDGET="8000"
AI_BUDGET_ALERT_THRESHOLD="0.8"

# AI Caching
AI_CACHE_ENABLED="true"
AI_CACHE_TTL="3600"
AI_SEMANTIC_CACHE_THRESHOLD="0.95"

# AI Retry Configuration
AI_RETRY_MAX_ATTEMPTS="3"
AI_RETRY_INITIAL_DELAY="1000"
AI_RETRY_MAX_DELAY="10000"
AI_RETRY_BACKOFF_MULTIPLIER="2"

# AI Logging
AI_LOG_REQUESTS="true"
AI_LOG_RESPONSES="true"
AI_LOG_TOKEN_USAGE="true"
AI_LOG_COSTS="true"

# Vector Database - Pinecone
PINECONE_API_KEY="your-pinecone-api-key"
PINECONE_ENVIRONMENT="gcp-starter"
PINECONE_INDEX_NAME="scrolluniversity"

# Research Assistant - Semantic Scholar
SEMANTIC_SCHOLAR_API_KEY="your-semantic-scholar-api-key"

# Blockchain
BLOCKCHAIN_NETWORK="testnet"
SCROLLCOIN_CONTRACT_ADDRESS="0x..."
PRIVATE_KEY="your-private-key"
INFURA_PROJECT_ID="your-infura-project-id"

# External Services
STRIPE_SECRET_KEY="sk_test_..."
WEBHOOK_SECRET="whsec_..."

# Email
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# File Storage
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="scrolluniversity-backend"

# Monitoring
SENTRY_DSN="your-sentry-dsn"
LOG_LEVEL="info"

# Rate Limiting
RATE_LIMIT_WINDOW="15"
RATE_LIMIT_MAX="100"

# Security
HELMET_ENABLED="true"
TRUST_PROXY="false"

# Features
ENABLE_SWAGGER="true"
ENABLE_METRICS="true"

# Academic Integrity System
# Plagiarism Detection
TURNITIN_ENABLED="false"
TURNITIN_API_KEY="your-turnitin-api-key"
PLAGIARISM_SIMILARITY_THRESHOLD="20"
PLAGIARISM_FLAG_THRESHOLD="30"

# AI Content Detection
GPTZERO_ENABLED="false"
GPTZERO_API_KEY="your-gptzero-api-key"
CUSTOM_AI_DETECTION_ENABLED="true"
AI_DETECTION_THRESHOLD="0.7"

# Collusion Detection
COLLUSION_DETECTION_ENABLED="true"
COLLUSION_SIMILARITY_THRESHOLD="0.85"
COLLUSION_TIMING_THRESHOLD="30"

# Proctoring
PROCTORING_ENABLED="false"
PROCTORING_REQUIRE_ID="true"
PROCTORING_REQUIRE_ENV_SCAN="true"
PROCTORING_FLAG_THRESHOLD="3"

# General Integrity Settings
AUTO_FLAG_ENABLED="true"
HUMAN_REVIEW_THRESHOLD="0.85"
INTEGRITY_CONFIDENCE_THRESHOLD="0.8"

# ScrollBadge NFT Configuration
SCROLLBADGE_BLOCKCHAIN_ENABLED="false"
SCROLLBADGE_NETWORK_NAME="sepolia"
SCROLLBADGE_RPC_URL="https://sepolia.infura.io/v3/YOUR_INFURA_KEY"
SCROLLBADGE_CONTRACT_ADDRESS=""
SCROLLBADGE_PRIVATE_KEY=""

# IPFS Configuration
IPFS_ENABLED="false"
IPFS_GATEWAY="https://ipfs.io/ipfs/"
IPFS_API_URL="https://api.pinata.cloud"
IPFS_API_KEY=""

# Badge Settings
BADGE_DEFAULT_TEMPLATE="standard"
BADGE_IMAGE_WIDTH="800"
BADGE_IMAGE_HEIGHT="600"
MAX_BADGES_PER_USER="1000"

# Badge Marketplace
BADGE_MARKETPLACE_ENABLED="false"
BADGE_MIN_LISTING_PRICE="0.001"
BADGE_MAX_LISTING_PRICE="10"
BADGE_LISTING_DURATION="30"
BADGE_PLATFORM_FEE="2.5"

# Badge Verification
BADGE_VERIFICATION_EXPIRY="72"
BADGE_PUBLIC_PROFILE_ENABLED="true"

# Badge Sharing
BADGE_SHARE_BASE_URL="https://scrolluniversity.com/badges"
BADGE_LINKEDIN_SHARE="true"
BADGE_TWITTER_SHARE="true"
BADGE_FACEBOOK_SHARE="true"

# D-ID Video Avatar Configuration
DID_API_KEY="your-d-id-api-key"
DID_BASE_URL="https://api.d-id.com"
DID_TIMEOUT="120000"
DID_MAX_RETRIES="3"

# Synthesia Video Avatar Configuration (Alternative)
SYNTHESIA_API_KEY="your-synthesia-api-key"
SYNTHESIA_BASE_URL="https://api.synthesia.io"
SYNTHESIA_TIMEOUT="120000"
SYNTHESIA_MAX_RETRIES="3"

# Video Avatar Settings
DEFAULT_VIDEO_AVATAR_PROVIDER="did"
VIDEO_AVATAR_FALLBACK_ENABLED="true"
VIDEO_AVATAR_TEXT_ONLY="false"
VIDEO_AVATAR_AUDIO_ONLY="false"
VIDEO_AVATAR_STATIC_IMAGE="false"
VIDEO_AVATAR_CACHE_ENABLED="true"
VIDEO_AVATAR_CACHE_TTL="86400"
VIDEO_AVATAR_CACHE_MAX_SIZE="5000"
VIDEO_AVATAR_CACHE_STRATEGY="lru"
VIDEO_AVATAR_MAX_TEXT_LENGTH="5000"
VIDEO_AVATAR_DEFAULT_RESOLUTION="720p"
VIDEO_AVATAR_DEFAULT_FORMAT="mp4"
VIDEO_AVATAR_INCLUDE_SUBTITLES="true"
VIDEO_AVATAR_STREAMING_ENABLED="true"
VIDEO_AVATAR_MAX_SESSION_DURATION="3600"
VIDEO_AVATAR_BUFFER_SIZE="512"
DID_COST_PER_SECOND="0.10"
SYNTHESIA_COST_PER_SECOND="0.15"
TTS_COST_PER_CHARACTER="0.000016"
SLIDE_GENERATION_COST="0.05"
VIDEO_AVATAR_DAILY_LIMIT="100"
VIDEO_AVATAR_DAILY_COST_LIMIT="50"
VIDEO_AVATAR_MONTHLY_LIMIT="2000"
VIDEO_AVATAR_MONTHLY_COST_LIMIT="1000"
