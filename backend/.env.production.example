# ScrollUniversity Production Environment Configuration
# =====================================================
# CRITICAL: Never commit actual production values to version control
# Use secure secret management (AWS Secrets Manager, Azure Key Vault, etc.)

# =====================================================
# ENVIRONMENT
# =====================================================
NODE_ENV="production"
PORT="3000"
HOST="0.0.0.0"

# =====================================================
# DATABASE - Production PostgreSQL
# =====================================================
DATABASE_URL="postgresql://prod_user:SECURE_PASSWORD@prod-db.scrolluniversity.com:5432/scrolluniversity_prod"
DATABASE_POOL_MIN="10"
DATABASE_POOL_MAX="50"
DATABASE_IDLE_TIMEOUT="30000"
DATABASE_CONNECTION_TIMEOUT="10000"
DATABASE_SSL_ENABLED="true"

# =====================================================
# REDIS - Production Cache
# =====================================================
REDIS_URL="redis://prod-redis.scrolluniversity.com:6379"
REDIS_PASSWORD="SECURE_REDIS_PASSWORD"
REDIS_TLS_ENABLED="true"
REDIS_CLUSTER_MODE="true"
REDIS_MAX_RETRIES="5"

# =====================================================
# AUTHENTICATION & SECURITY
# =====================================================
JWT_SECRET="PRODUCTION_JWT_SECRET_MINIMUM_32_CHARACTERS_LONG"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"
BCRYPT_ROUNDS="14"

# Security Headers
HELMET_ENABLED="true"
TRUST_PROXY="true"
CORS_ORIGIN="https://scrolluniversity.com,https://app.scrolluniversity.com"
CORS_CREDENTIALS="true"

# Rate Limiting (Production)
RATE_LIMIT_WINDOW="15"
RATE_LIMIT_MAX="1000"
RATE_LIMIT_SKIP_SUCCESSFUL="false"

# =====================================================
# AI SERVICES - OPENAI (Production)
# =====================================================
OPENAI_API_KEY="sk-prod-PRODUCTION_OPENAI_KEY"
OPENAI_ORGANIZATION="org-PRODUCTION_ORG_ID"
OPENAI_BASE_URL="https://api.openai.com/v1"
OPENAI_TIMEOUT="120000"
OPENAI_MAX_RETRIES="5"
OPENAI_MODEL_PRIMARY="gpt-4-turbo-preview"
OPENAI_MODEL_FALLBACK="gpt-3.5-turbo"

# =====================================================
# AI SERVICES - ANTHROPIC (Production)
# =====================================================
ANTHROPIC_API_KEY="sk-ant-prod-PRODUCTION_ANTHROPIC_KEY"
ANTHROPIC_BASE_URL="https://api.anthropic.com"
ANTHROPIC_TIMEOUT="120000"
ANTHROPIC_MAX_RETRIES="5"
ANTHROPIC_MODEL_PRIMARY="claude-3-opus-20240229"
ANTHROPIC_MODEL_FALLBACK="claude-3-sonnet-20240229"

# =====================================================
# AI RATE LIMITING (Production Quotas)
# =====================================================
AI_RATE_LIMIT_RPM="500"
AI_RATE_LIMIT_TPM="500000"
AI_RATE_LIMIT_RPD="100000"
AI_RATE_LIMIT_CONCURRENT="50"

# =====================================================
# AI BUDGET MANAGEMENT (Production)
# =====================================================
AI_DAILY_BUDGET="300"
AI_MONTHLY_BUDGET="8000"
AI_YEARLY_BUDGET="96000"
AI_BUDGET_ALERT_THRESHOLD="0.8"
AI_BUDGET_CRITICAL_THRESHOLD="0.95"
AI_BUDGET_AUTO_THROTTLE="true"
AI_BUDGET_EMERGENCY_FALLBACK="true"

# =====================================================
# AI CACHING (Production Optimization)
# =====================================================
AI_CACHE_ENABLED="true"
AI_CACHE_TTL="7200"
AI_SEMANTIC_CACHE_ENABLED="true"
AI_SEMANTIC_CACHE_THRESHOLD="0.95"
AI_CACHE_COMPRESSION="true"
AI_CACHE_MAX_SIZE="10000"

# =====================================================
# AI RETRY & FALLBACK (Production Resilience)
# =====================================================
AI_RETRY_MAX_ATTEMPTS="5"
AI_RETRY_INITIAL_DELAY="2000"
AI_RETRY_MAX_DELAY="30000"
AI_RETRY_BACKOFF_MULTIPLIER="2"
AI_FALLBACK_ENABLED="true"
AI_CIRCUIT_BREAKER_ENABLED="true"
AI_CIRCUIT_BREAKER_THRESHOLD="10"
AI_CIRCUIT_BREAKER_TIMEOUT="60000"

# =====================================================
# AI LOGGING (Production)
# =====================================================
AI_LOG_REQUESTS="true"
AI_LOG_RESPONSES="false"
AI_LOG_TOKEN_USAGE="true"
AI_LOG_COSTS="true"
AI_LOG_ERRORS="true"
AI_LOG_PERFORMANCE="true"

# =====================================================
# VECTOR DATABASE - PINECONE (Production)
# =====================================================
PINECONE_API_KEY="PRODUCTION_PINECONE_API_KEY"
PINECONE_ENVIRONMENT="us-east-1-aws"
PINECONE_INDEX_NAME="scrolluniversity-prod"
PINECONE_NAMESPACE="production"
PINECONE_DIMENSION="1536"
PINECONE_METRIC="cosine"

# =====================================================
# EXTERNAL AI SERVICES (Production)
# =====================================================
# Semantic Scholar (Research Assistant)
SEMANTIC_SCHOLAR_API_KEY="PRODUCTION_SEMANTIC_SCHOLAR_KEY"
SEMANTIC_SCHOLAR_RATE_LIMIT="100"

# Turnitin (Plagiarism Detection)
TURNITIN_ENABLED="true"
TURNITIN_API_KEY="PRODUCTION_TURNITIN_KEY"
TURNITIN_API_URL="https://api.turnitin.com/v1"
PLAGIARISM_SIMILARITY_THRESHOLD="20"
PLAGIARISM_FLAG_THRESHOLD="30"

# GPTZero (AI Content Detection)
GPTZERO_ENABLED="true"
GPTZERO_API_KEY="PRODUCTION_GPTZERO_KEY"
GPTZERO_API_URL="https://api.gptzero.me/v2"
AI_DETECTION_THRESHOLD="0.7"

# Whisper (Caption Generation)
WHISPER_ENABLED="true"
WHISPER_MODEL="whisper-1"

# DeepL (Translation)
DEEPL_ENABLED="true"
DEEPL_API_KEY="PRODUCTION_DEEPL_KEY"
DEEPL_API_URL="https://api.deepl.com/v2"

# =====================================================
# BLOCKCHAIN (Production)
# =====================================================
BLOCKCHAIN_NETWORK="mainnet"
BLOCKCHAIN_RPC_URL="https://mainnet.infura.io/v3/PRODUCTION_INFURA_PROJECT_ID"
SCROLLCOIN_CONTRACT_ADDRESS="0xPRODUCTION_CONTRACT_ADDRESS"
PRIVATE_KEY="PRODUCTION_PRIVATE_KEY_ENCRYPTED"
INFURA_PROJECT_ID="PRODUCTION_INFURA_PROJECT_ID"
ETHERSCAN_API_KEY="PRODUCTION_ETHERSCAN_KEY"

# =====================================================
# PAYMENT PROCESSING (Production)
# =====================================================
STRIPE_SECRET_KEY="sk_live_PRODUCTION_STRIPE_KEY"
STRIPE_PUBLISHABLE_KEY="pk_live_PRODUCTION_STRIPE_KEY"
STRIPE_WEBHOOK_SECRET="whsec_PRODUCTION_WEBHOOK_SECRET"

# =====================================================
# EMAIL (Production)
# =====================================================
SMTP_HOST="smtp.sendgrid.net"
SMTP_PORT="587"
SMTP_USER="apikey"
SMTP_PASS="PRODUCTION_SENDGRID_API_KEY"
SMTP_FROM="noreply@scrolluniversity.com"
SMTP_FROM_NAME="ScrollUniversity"
SMTP_TLS="true"

# =====================================================
# FILE STORAGE (Production AWS S3)
# =====================================================
AWS_ACCESS_KEY_ID="PRODUCTION_AWS_ACCESS_KEY"
AWS_SECRET_ACCESS_KEY="PRODUCTION_AWS_SECRET_KEY"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="scrolluniversity-prod"
AWS_CLOUDFRONT_DOMAIN="cdn.scrolluniversity.com"
AWS_S3_ENCRYPTION="AES256"

# =====================================================
# MONITORING & LOGGING (Production)
# =====================================================
# Sentry Error Tracking
SENTRY_DSN="https://PRODUCTION_SENTRY_DSN@sentry.io/PROJECT_ID"
SENTRY_ENVIRONMENT="production"
SENTRY_TRACES_SAMPLE_RATE="0.1"
SENTRY_PROFILES_SAMPLE_RATE="0.1"

# Logging
LOG_LEVEL="warn"
LOG_FORMAT="json"
LOG_ROTATION="daily"
LOG_MAX_FILES="30"
LOG_MAX_SIZE="100m"

# Metrics
ENABLE_METRICS="true"
METRICS_PORT="9090"
PROMETHEUS_ENABLED="true"

# Application Performance Monitoring
APM_ENABLED="true"
NEW_RELIC_LICENSE_KEY="PRODUCTION_NEW_RELIC_KEY"
NEW_RELIC_APP_NAME="ScrollUniversity-Production"

# =====================================================
# ACADEMIC INTEGRITY (Production)
# =====================================================
# Plagiarism Detection
PLAGIARISM_DETECTION_ENABLED="true"
CUSTOM_AI_DETECTION_ENABLED="true"
COLLUSION_DETECTION_ENABLED="true"
PROCTORING_ENABLED="true"

# Proctoring Settings
PROCTORING_REQUIRE_ID="true"
PROCTORING_REQUIRE_ENV_SCAN="true"
PROCTORING_FLAG_THRESHOLD="3"
PROCTORING_RECORDING_RETENTION="90"

# Integrity Thresholds
AUTO_FLAG_ENABLED="true"
HUMAN_REVIEW_THRESHOLD="0.85"
INTEGRITY_CONFIDENCE_THRESHOLD="0.8"

# =====================================================
# QUALITY ASSURANCE (Production)
# =====================================================
QA_ENABLED="true"
QA_MIN_ACCURACY="0.90"
QA_MIN_CONFIDENCE="0.85"
QA_MIN_HUMAN_AGREEMENT="0.85"
QA_MIN_THEOLOGICAL_ALIGNMENT="0.95"
QA_MAX_RESPONSE_TIME="5000"
QA_MAX_COST_PER_REQUEST="2.00"

# =====================================================
# BACKUP & RECOVERY (Production)
# =====================================================
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS="90"
BACKUP_S3_BUCKET="scrolluniversity-backups"
BACKUP_ENCRYPTION="true"

# Database Backup
DB_BACKUP_ENABLED="true"
DB_BACKUP_SCHEDULE="0 */6 * * *"
DB_POINT_IN_TIME_RECOVERY="true"

# Redis Backup
REDIS_BACKUP_ENABLED="true"
REDIS_BACKUP_SCHEDULE="0 4 * * *"

# =====================================================
# FEATURE FLAGS (Production)
# =====================================================
ENABLE_SWAGGER="false"
ENABLE_DEBUG_ROUTES="false"
ENABLE_ADMIN_PANEL="true"
ENABLE_MAINTENANCE_MODE="false"

# AI Features
ENABLE_AI_CHATBOT="true"
ENABLE_AI_GRADING="true"
ENABLE_AI_CONTENT_CREATION="true"
ENABLE_AI_PERSONALIZATION="true"
ENABLE_AI_RESEARCH_ASSISTANT="true"
ENABLE_AI_ADMISSIONS="true"
ENABLE_AI_FACULTY_SUPPORT="true"
ENABLE_AI_TRANSLATION="true"
ENABLE_AI_SPIRITUAL_FORMATION="true"
ENABLE_AI_FUNDRAISING="true"
ENABLE_AI_CAREER_SERVICES="true"
ENABLE_AI_MODERATION="true"
ENABLE_AI_ACCESSIBILITY="true"

# =====================================================
# PERFORMANCE OPTIMIZATION (Production)
# =====================================================
# Clustering
CLUSTER_ENABLED="true"
CLUSTER_WORKERS="auto"

# Compression
COMPRESSION_ENABLED="true"
COMPRESSION_LEVEL="6"

# CDN
CDN_ENABLED="true"
CDN_URL="https://cdn.scrolluniversity.com"

# =====================================================
# COMPLIANCE (Production)
# =====================================================
GDPR_ENABLED="true"
FERPA_ENABLED="true"
COPPA_ENABLED="false"
DATA_RETENTION_DAYS="2555"
AUDIT_LOG_RETENTION_DAYS="2555"

# =====================================================
# HEALTH CHECKS (Production)
# =====================================================
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_PATH="/health"
READINESS_CHECK_PATH="/ready"
LIVENESS_CHECK_PATH="/live"

# =====================================================
# DEPLOYMENT INFO
# =====================================================
DEPLOYMENT_VERSION="1.0.0"
DEPLOYMENT_TIMESTAMP=""
DEPLOYMENT_COMMIT_SHA=""
DEPLOYMENT_ENVIRONMENT="production"
